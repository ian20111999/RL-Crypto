# RL-Crypto Configuration

# =============================================================================
# Binance API Settings
# =============================================================================
binance:
  # Use testnet for safe testing (set to false for live trading)
  testnet: true
  
  # API credentials (set via environment variables for security)
  # BINANCE_API_KEY and BINANCE_API_SECRET
  
  # Rate limiting
  rate_limit:
    requests_per_minute: 1200
    orders_per_second: 10

# =============================================================================
# Trading Symbols (Top 10 by Market Cap)
# =============================================================================
symbols:
  - BTCUSDT
  - ETHUSDT
  # - BNBUSDT
  # - SOLUSDT
  # - XRPUSDT
  # - DOGEUSDT
  # - ADAUSDT
  # - AVAXUSDT
  # - DOTUSDT
  # - LINKUSDT

# =============================================================================
# Trading Parameters
# =============================================================================
trading:
  # Initial trading capital (USDT)
  initial_capital: 5000.0
  
  # Leverage (conservative setting)
  leverage: 1  # Reduced for stability
  
  # Position sizing
  max_position_per_asset: 0.2  # Max 20% of capital per asset
  
  # Fees (standard Binance Futures fees)
  fees:
    maker: 0.0002  # 0.02%
    taker: 0.0004  # 0.04%
  
  # Slippage simulation
  slippage: 0.0001  # 0.01%
  
  # Funding rate (approximate 8h rate)
  funding_rate: 0.0001  # 0.01%

# =============================================================================
# Data Settings
# =============================================================================
data:
  # Timeframe for OHLCV data
  timeframe: "1h"
  
  # Historical data range (3 months recommended)
  history_days: 90
  
  # Lookback window for features (1h: 60 bars = 2.5 days)
  lookback: 60
  
  # Data storage
  data_dir: "data"
  
  # Orderbook depth
  orderbook_levels: 10

# =============================================================================
# Feature Engineering
# =============================================================================
features:
  # Technical indicators to compute
  technical:
    - rsi_14
    - rsi_7
    - macd
    - macd_signal
    - macd_hist
    - bb_upper
    - bb_middle
    - bb_lower
    - ema_9
    - ema_21
    - ema_50
    - atr_14
    - obv
    - vwap
  
  # Price-based features
  price:
    - returns
    - log_returns
    - volatility_20
    - high_low_range
    - close_to_high
    - close_to_low

# =============================================================================
# Environment Settings
# =============================================================================
environment:
  # Episode length (1h: 24 bars = 1 day)
  episode_length: 24
  
  # Reward scaling
  reward_scaling: 100.0
  
  # Transaction cost penalty (high to discourage overtrading)
  transaction_penalty: 0.05
  
  # Drawdown penalty coefficient
  drawdown_penalty: 0.1

# =============================================================================
# PPO Hyperparameters
# =============================================================================
ppo:
  # Policy network
  policy: "MultiInputPolicy"
  
  # Learning rate
  learning_rate: 0.0003
  
  # Number of steps per update
  n_steps: 2048
  
  # Batch size
  batch_size: 64
  
  # Number of epochs per update
  n_epochs: 10
  
  # Discount factor
  gamma: 0.99
  
  # GAE lambda
  gae_lambda: 0.95
  
  # Clipping parameter
  clip_range: 0.2
  
  # Value function coefficient
  vf_coef: 0.5
  
  # Entropy coefficient (lower for less randomness)
  ent_coef: 0.005
  
  # Max gradient norm
  max_grad_norm: 0.5
  
  # Network architecture
  policy_kwargs:
    net_arch:
      pi: [256, 256, 128]
      vf: [256, 256, 128]
    activation_fn: "ReLU"

# =============================================================================
# Training Settings
# =============================================================================
training:
  # Total training timesteps
  total_timesteps: 1000000
  
  # Evaluation frequency
  eval_freq: 10000
  
  # Number of evaluation episodes
  n_eval_episodes: 5
  
  # Model save directory
  model_dir: "models"
  
  # Tensorboard log directory
  log_dir: "logs"
  
  # Random seed
  seed: 42

# =============================================================================
# Risk Management
# =============================================================================
risk:
  # Maximum drawdown before stopping
  max_drawdown: 0.2  # 20%
  
  # Daily loss limit
  daily_loss_limit: 0.05  # 5%
  
  # Maximum total exposure
  max_exposure: 0.8  # 80% of capital
  
  # Stop loss per position (optional)
  position_stop_loss: 0.02  # 2%

# =============================================================================
# Logging
# =============================================================================
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "logs/rl_crypto.log"
